var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,c=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&s(e,a,t[a]);if(r)for(var a of r(t))l.call(t,a)&&s(e,a,t[a]);return e},o=(e,r)=>t(e,a(r));import{c as m,a as i,r as u,T as d,X as p,b as x,u as f,d as g,e as h,D as E,L as b,f as y,g as v,h as N,I as w,S,R as k,i as C,j as D,k as j,l as F,P as I,B as O}from"./vendor.d2c05491.js";const $=document.head.getElementsByTagName("base")[0];-1!==$.href.indexOf("URL_PREFIX")&&($.href="/");const L=m({name:"shortMenu",initialState:{currentDatasource:{},currentSample:{},datasources:[]},reducers:{setDatasources:(e,t)=>{e.datasources=t.payload},setCurrentDataSource:(e,t)=>{e.currentDatasource=t.payload},setCurrentDataSourceFromId:(e,t)=>{e.currentDatasource=e.datasources.filter((e=>t.payload==e.id))[0]||{}},setCurrentSample:(e,t)=>{e.currentSample=t.payload},voidDataSource:e=>{e.currentSample=null,e.currentDatasource=null},addSampleToDataSource:(e,t)=>{const a=t.payload;e.datasources.forEach((e=>{e.id===a.datasource&&e.samples.push(a)}))}}}),{setCurrentDataSource:P,setCurrentSample:K,voidDataSource:M,setDatasources:T,setCurrentDataSourceFromId:R,addSampleToDataSource:z}=L.actions;var U=L.reducer;function A(...e){return e.filter(Boolean).join(" ")}const B=["Backspace","Tab","Enter","Shift","Control","Alt","CapsLock","Escape","PageUp","PageDown","End","Home","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Delete"];function Y(e,t){const a=("string"==typeof e?e:e.toString()).split(".");if(t<=0)return a[0];let r=a[1]||"";if(r.length>t)return`${a[0]}.${r.substr(0,t)}`;for(;r.length<t;)r+="0";return parseFloat(`${a[0]}.${r}`)}function X({msg:e}){return u.createElement("div",{className:"flex h-screen justify-center items-center flex-col"},u.createElement("h1",{className:"text-center my-20 text-4xl font-extrabold text-gray-600 sm:text-5xl sm:tracking-tight lg:text-6xl"},e),u.createElement("div",{className:"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-64 w-64"}))}const _="/"+function(e,t){for(var a=0;t.indexOf(e[a])>=0;)a+=1;for(var r=e.length-1;t.indexOf(e[r])>=0;)r-=1;return e.substr(a,r-a+1)}(new URL(document.querySelector("base").href).pathname,"/"),H=i.create();function q({msg:e,title:t}){const[a,r]=u.useState(!0);return t=t||"Il y a un problème",u.createElement(u.Fragment,null,u.createElement("div",{"aria-live":"assertive",className:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start"},u.createElement("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end"},u.createElement(d,{show:a,as:u.Fragment,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0"},u.createElement("div",{className:"max-w-lg w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden"},u.createElement("div",{className:"p-4"},u.createElement("div",{className:"flex items-start"},u.createElement("div",{className:"flex-shrink-0"},u.createElement(p,{className:"h-6 w-6 text-red-400","aria-hidden":"true"})),u.createElement("div",{className:"ml-3 w-0 flex-1 pt-0.5"},u.createElement("p",{className:"text-lg font-medium text-gray-900"},t),u.createElement("p",{className:"mt-1 text-lg text-gray-500"},e)),u.createElement("div",{className:"ml-4 flex-shrink-0 flex"},u.createElement("button",{className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>{r(!1)}},u.createElement("span",{className:"sr-only"},"Close"),u.createElement(x,{className:"h-5 w-5","aria-hidden":"true"}))))))))))}H.interceptors.response.use(void 0,(function(e){if(401!==e.response.status&&403!==e.response.status)return Promise.reject(e);window.location=`${_}/login/`}));const V=()=>H.get("api/v1/datasources/"),W=e=>H.get(`api/v1/datasources/${e}/`);function Z(){const e=f(),t=g(),[a,r]=u.useState("");u.useEffect((()=>{e(M())}),[]);const{getRootProps:n,getInputProps:l,open:s,acceptedFiles:m,fileRejections:i}=h({noClick:!0,noKeyboard:!0,accept:["application/xml","text/xml"],onDropAccepted:a=>{r("");var n=new FormData;n.append("xml",a[0]),(e=>H.post("upload_file/",e,{headers:{"Content-Type":"multipart/form-data"}}))(n).then((a=>{V().then((t=>e(T(t.data)))),t.push(`/datasources/${a.data}`)})).catch((e=>{r(e.response.data)}))}});return m.map((e=>u.createElement("li",{key:e.path},e.path," - ",e.size," bytes"))),i.map((({file:e,errors:t})=>u.createElement("li",{key:e.path},e.path," - ",e.size," bytes",u.createElement("ul",null,t.map((e=>u.createElement("li",{key:e.code},e.message))))))),u.createElement("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",tabIndex:0},u.createElement("h1",{className:"text-center my-20 text-4xl font-extrabold text-gray-600 sm:text-5xl sm:tracking-tight lg:text-6xl"},"Nouveau fichier"),u.createElement("div",{className:"py-6"},u.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},u.createElement("div",{className:"py-4"},u.createElement("div",o(c({},n({className:"dropzone"})),{className:"p-4 flex flex items-center justify-center flex-col border-4 border-dashed border-gray-200rounded-lg h-96 bg-white"}),u.createElement("input",c({},l())),u.createElement("h2",{className:"my-4 text-2xl font-extrabold tracking-tight sm:text-1xl lg:text-1xl text-gray-600 pb-5 "},"Glissez-déposez un fichier XML ici ou ... "),u.createElement("p",{className:""},u.createElement("button",{type:"button",onClick:s,className:"inline-flex items-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-2xl"},"Choisissez un fichier en cliquant ici",u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-3 -mr-1 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"}))))),a&&u.createElement(q,{msg:a})))))}function G({datasource:e,currentDatasource:t,currentSample:a}){const r=g(),n=e.samples.length>0,l=t&&e.id===t.id;return u.createElement("div",{onClick:()=>r.push(`/datasources/${e.id}/`)},u.createElement(E,{as:"div",className:"space-y-1"},u.createElement(E.Button,{className:A(l?"bg-blue-100 text-blue-900  untruncate":"bg-white text-gray-600 hover:bg-blue-50 hover:text-blue-900  truncate",n?"":"pl-2"," group w-full flex items-center pr-2 py-2 text-m font-medium rounded-md  hover:untruncate  focus:outline-none focus:ring-2 focus:ring-indigo-500")},n&&u.createElement("span",null,u.createElement("svg",{className:A(l?"text-blue-400 rotate-90":"text-gray-300","mr-2 h-5 w-5 transform group-hover:text-gray-400 transition-colors ease-in-out duration-150 "),viewBox:"0 0 20 20","aria-hidden":"true"},u.createElement("path",{d:"M6 6L14 10L6 14V6Z",fill:"currentColor"}))),u.createElement("span",{className:A(l?"untruncate":"truncate","hover:untruncate hover:text-over break-all max-w-full block ")},e.name)),l&&u.createElement(E.Panel,{className:"space-y-1",static:!0},e.samples.map((t=>u.createElement(b,{key:t.id,onClick:e=>e.stopPropagation(),to:`/datasources/${e.id}/samples/${t.id}/`,className:A(a&&a.id===t.id?"border-l-4 border-blue-800  bg-blue-50":"","group w-full flex  pl-3 pr-2 py-2 text-sm font-medium text-gray-600 rounded-md  hover:bg-gray-50")},u.createElement("ul",null,u.createElement("li",null,u.createElement("span",{className:"font-black text-gray-800"},"Score:")," ",t.minScore," - ",t.maxScore),u.createElement("li",null,u.createElement("span",{className:"font-black text-gray-800"},"Paires:")," ",t.count),u.createElement("li",null,u.createElement("span",{className:"font-black text-gray-800"},"Date:")," ",y(t.date).format("HH:mm:ss DD/MM/YYYY")),u.createElement("li",{className:"text-xs text-gray-400"},"Expire: ",y(t.expireDate).fromNow()," "))))),u.createElement("span",{className:"flex flex-row-reverse"},u.createElement(b,{className:"text-center text-xs italic underline text-gray-500 m-2",to:`/datasources/${e.id}/`},"Ajouter")))))}function J(){const e=g(),[t,a]=u.useState("");-1===document.cookie.indexOf("sessionid")&&e.push("/login/");const r=f();u.useEffect((()=>{V().then((e=>r(T(e.data))))}),[]);const{currentDatasource:n,currentSample:l,datasources:s}=v((e=>c({},e.samples)));return u.createElement("div",{className:"flex flex-col  border-r border-gray-200 pt-5 pb-4 bg-white overflow-y-auto  w-64"},u.createElement("div",{className:"flex items-center flex-shrink-0 px-4 "},u.createElement(b,{to:"/"},u.createElement("img",{className:"w-auto",src:"/assets/logo.90a0eb68.png",alt:"Workflow"}))),u.createElement("div",{className:"mt-5 flex-grow flex flex-col"},u.createElement(b,{to:"/",className:"text-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mx-2 mb-4"},"Nouveau fichier"),u.createElement("nav",{className:"flex-1 px-2 space-y-1 bg-white","aria-label":"Sidebar"},s.map((e=>u.createElement(G,{datasource:e,currentDatasource:n,currentSample:l,key:e.name}))))),u.createElement("div",{className:"flex-shrink-0 f  p-4"},u.createElement("button",{onClick:()=>{H.get("api/v1/logout/?csrf=1").then((e=>H.post("api/v1/logout/",{},{headers:{"X-CSRFTOKEN":e.data.csrftoken}}))).then((t=>{e.push("/login/")})).catch((e=>{a("Une erreur inconnue est survenue")}))},className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Se déconnecter")),t&&u.createElement(q,{msg:t}))}function Q({datasourceId:e,sampleId:t}){return v((a=>{let r=a.samples.datasources.filter((t=>t.id===e))[0];if(r){let e=r.samples.filter((e=>e.id===t))[0];return{currentDatasource:r,currentSample:e}}return{currentDatasource:r,currentSample:null}}))}const{Range:ee}=w;function te(){const{datasourceId:e,sampleId:t}=N(),a=g(),r=f(),[n,l]=u.useState(300),[s,c]=u.useState(0),[o,m]=u.useState(10),[i,d]=u.useState(""),[p,x]=u.useState(""),[h,E]=u.useState(10),[b,y]=u.useState(10),{currentDatasource:v}=Q({datasourceId:e,sampleId:t});u.useEffect((()=>{var t;v?(r(P(v)),r(K(null)),d("")):(d("Chargement de la source de donnée"),W(e).then((e=>{r(P(e.data)),r(K(null))})).catch((e=>{404===e.response.status&&a.push("/nodatasource/"),x(e.response.data)})).finally((()=>{d("")}))),d("Chargement des paramètres d'échantillonnage"),(t=e,H.get(`api/v1/datasources/${t}/scoreboundaries/`)).then((e=>{const t=Y(e.data.max,2),a=Y(e.data.min,2);y(a),E(t),c(a),m(t),d("")}))}),[e]);const S=e=>{const t=e.key;B.includes(t)||t.match(/[\d.,]/)||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()},k=()=>{x(""),d("Echantillonnage en cours"),((e,t,a,r)=>H.get(`api/v1/datasources/${e}/samples/?csrf=1`).then((n=>H.post(`api/v1/datasources/${e}/samples/`,{count:t,min:a,max:r},{headers:{"X-CSRFTOKEN":n.data.csrftoken}}))))(v.id,n,s,o).then((e=>{r(z(e.data)),a.push(`/datasources/${v.id}/samples/${e.data.id}`)})).catch((e=>{e.response.data.detail?x(e.response.data.detail):(x("Une erreur inconnue est survenue"),console.error(e))})).finally((()=>{d("")}))};return u.createElement(u.Fragment,null,v&&""===i?u.createElement(u.Fragment,null,u.createElement("header",{className:"bg-white shadow"},u.createElement("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},u.createElement("h1",{className:"text-3xl font-bold text-gray-900"},"Nouvel échantillon"),u.createElement("p",null," ",v.name))),u.createElement("main",null,"number"!=typeof s?u.createElement("div",{className:"p-4 flex flex items-center justify-center flex-col"},u.createElement("h2",{className:"my-4 text-2xl font-extrabold tracking-tight sm:text-1xl lg:text-1xl text-gray-600 pb-5 "},"Il n'y a plus de paires à annoter ")):u.createElement("form",{action:"",onSubmit:e=>{e.preventDefault(),k()}},u.createElement("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},u.createElement("div",{className:"px-4 py-6 sm:px-0"},u.createElement("div",{className:"text-xl mb-4 flex items-center"},u.createElement("span",{className:"flex-initial w-1/2 "},u.createElement("span",{className:"text-xl "},u.createElement("label",{className:"text-xl ",htmlFor:"count"},"Cardinalité: ")),u.createElement("span",null,u.createElement("input",{type:"number",name:"count",value:n,max:1e3,min:0,onChange:e=>(e=>{const t=parseInt(e.replace(/\D/g,""));isNaN(t)?l(""):t<=300&&l(t)})(e.target.value),onKeyDown:e=>{const t=e.key;B.includes(t)||t.match(/\d/)||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()},className:A(n?"":"border-red-300 focus:border-red-300 border-4 focus:border-4","w-20 mx-8 text-right")}))),u.createElement("span",{className:"flex-initial mr-8 text-gray-300"},"0"),u.createElement("span",{className:"flex-1"},u.createElement(w,{min:0,max:300,step:1,value:n,onChange:l})),u.createElement("span",{className:"flex-initial ml-8 text-gray-300"},"300")),u.createElement("div",{className:"text-xl mb-4 flex items-center"},u.createElement("span",{className:"flex-initial w-1/4 "},u.createElement("label",{className:"text-xl  w-44",htmlFor:"minscore"},"Score min:   "),u.createElement("input",{type:"number",name:"minscore",value:s,max:o,min:b,onChange:e=>(e=>{const t=parseFloat(e.replace(",",".").replace(/[^\d.]/g,""));isNaN(t)?c(""):t<=o&&t>b&&c(Y(t,2))})(e.target.value),onKeyDown:S,className:A(""!==s?"":"border-red-300 focus:border-red-300 border-4 focus:border-4","w-20 mx-8 text-right")})),u.createElement("span",{className:"flex-initial w-1/4 "},u.createElement("label",{className:"text-xl ",htmlFor:"maxscore"},"Score max:"),u.createElement("input",{type:"number",name:"maxscore",value:o,max:h,min:s,onChange:e=>(e=>{const t=parseFloat(e.replace(",",".").replace(/[^\d.]/g,""));isNaN(t)?m(""):t<=h&&t>=s&&m(Y(t,2))})(e.target.value),onKeyDown:S,className:A(""!==o?"":"border-red-300 focus:border-red-300 border-4 focus:border-4","w-20 mx-8 text-right")})),u.createElement("span",{className:"flex-initial mr-4 text-gray-300"},b),u.createElement("span",{className:"flex-1"},u.createElement(ee,{min:100*b,max:100*h,allowCross:!1,step:1,value:[100*s,100*o],onChange:([e,t])=>[c(e/100),m(t/100)]})),u.createElement("span",{className:"flex-initial ml-8 text-gray-300"},h)),u.createElement("div",{className:"flex justify-center"},u.createElement("button",{type:"button",onClick:e=>{e.preventDefault(),k()},disabled:!n||""===o||""===s,className:"disabled:opacity-30  m-8 inline-flex items-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-2xl"},"Lancer l'échantillonnage"))))))):u.createElement(X,{msg:i}),p&&u.createElement(q,{msg:p}))}function ae({value:e,onChange:t}){let[a,r]=u.useState(e);const n=e=>a=>{r(e),t(e,a)};return u.createElement("span",{className:"relative z-0 inline-flex shadow-sm rounded-md"},u.createElement("button",{onClick:n("ok"),type:"button",className:A("ok"===a?"bg-green-200":"hover:bg-gray-200","relative inline-flex items-center px-2 py-2","rounded-l-md border border-gray-300 bg-white border-gray-300","text-xs font-medium text-gray-700  focus:z-10","focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500")},"OK"),u.createElement("button",{onClick:n("nok"),type:"button",className:A("nok"===a?"bg-red-200":"hover:bg-gray-200","-ml-px relative inline-flex items-center px-2 py-2 border border-gray-300","bg-white text-xs font-medium text-gray-700  focus:z-10","focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500")},"NOK"),u.createElement("button",{onClick:n("?"),type:"button",className:A("?"===a?"bg-yellow-200":"hover:bg-gray-200","-ml-px relative inline-flex items-center px-2 py-2 rounded-r-md border","border-gray-300 bg-white text-xs font-medium text-gray-700  focus:z-10","focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500")},"?"))}function re(){const e=g(),t=f(),{datasourceId:a,sampleId:r}=N(),{currentDatasource:n,currentSample:l}=Q({datasourceId:a,sampleId:r});let s;const[m,i]=u.useState(""),[d,p]=u.useState(""),[x,h]=u.useState([]),[E,b]=u.useState("");u.useEffect((()=>{n||(i("Chargement de la source de donnée"),W(a).then((e=>{t(P(e.data))})).catch((t=>{404===t.response.status&&e.push("/nodatasource/"),b(t.response.data)})))}),[a]),u.useEffect((()=>{(async()=>{try{i("Chargement de l'échantillon"),h([]);const e=await(e=>H.get(`api/v1/samples/${e}/params/`))(r);t(K(e.data)),t(P(n))}catch(a){404===a.status_code&&e.push("/nosample/"),a.response.data.detail?b(a.response.data.detail):(b("Une erreur inconnue est survenue"),console.error(a))}})()}),[r]),u.useEffect((()=>{x.length&&i("")}),[r]),u.useEffect((()=>{(async()=>{try{i("Chargement de l'échantillon");const e=await(e=>H.get(`api/v1/samples/${e}/data/`))(r);h(e.data)}catch(t){404===t.status_code&&e.push("/nosample/"),t.response.data.detail?b(t.response.data.detail):(b("Une erreur inconnue est survenue"),console.error(t))}finally{i("")}})()}),[r]);const v=(e,t)=>{((e,t,a)=>{H.get(`api/v1/samples/${e}/pairs/${t}/status/?csrf=1`).then((r=>H.put(`api/v1/samples/${e}/pairs/${t}/status/`,{status:a},{headers:{"X-CSRFTOKEN":r.data.csrftoken}})))})(l.id,t,e),h(x.map((a=>a.id===t?o(c({},a),{status:e}):a)))},w={ok:3,nok:2,"?":1,null:0};return u.useEffect((()=>{if(!d)return;const e="ascending"==d?1:-1;x.sort(((t,a)=>{const r=w[t.status],n=w[a.status];return r>n?e:n>r?-e:0})),h([...x])}),[d]),n&&(s=n.schema),u.createElement(u.Fragment,null," ",n&&u.createElement("header",{className:"bg-white shadow  "},u.createElement("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8"},u.createElement("h1",{className:"text-2xl  text-gray-900 truncate mb-2"},n.name),u.createElement("p",null,u.createElement("span",{className:"font-bold  "},"Paires:")," ",l.count,u.createElement("span",{className:"font-bold ml-8"},"Score:")," ",l.minScore," - ",l.maxScore,u.createElement("span",{className:"font-bold ml-8"},"Date:")," ",y(l.date).format("HH:mm:ss DD/MM/YYYY"),u.createElement("span",{className:"text-sm ml-8 text-gray-400"},"Expire: ",y(l.expireDate).fromNow())))),u.createElement("main",null,u.createElement("div",{className:"flex flex-col"},u.createElement("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},u.createElement("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},x.length&&""===m?u.createElement("div",{className:"table-container shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},u.createElement("table",{className:"min-w-full divide-y divide-gray-200  "},u.createElement("thead",{className:"bg-gray-200  "},u.createElement("tr",null,Object.keys(s).map((e=>u.createElement("th",{key:e,scope:"col",colSpan:2,className:" py-3 border border-gray-300  text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},e.replace("similarite_","")))),u.createElement("th",{scope:"col",className:"   border border-gray-300 w-8 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Score"),u.createElement("th",{scope:"col",onClick:()=>p("ascending"!==d?"ascending":"descending"),className:" cursor-pointer  border border-gray-300 w-8 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},u.createElement("span",{className:"flex align-middle justify-center"},"Status",d&&u.createElement("svg",{className:A("descending"===d?"-rotate-90":"rotate-90  ","  h-4 w-4 transform   text-gray-800 transition-colors ease-in-out duration-150 mx-2"),viewBox:"0 0 20 20","aria-hidden":"true"},u.createElement("path",{d:"M6 6L14 10L6 14V6Z",fill:"currentColor"})))))),u.createElement("tbody",null,x.map((({pairs:e,score:t,status:a,id:r},n)=>u.createElement("tr",{key:r,className:n%2==0?"bg-white":"bg-gray-50"},Object.entries(e).map((e=>{const[t,{value1:a,value2:r,similarity:n}]=e,l=s[t].type;return u.createElement(u.Fragment,{key:t},u.createElement("td",{className:A("gender"===l||"date"===l?"text-center w-4":"w-8","px-2 border border-gray-300  whitespace-nowrap text-sm text-gray-500"),dangerouslySetInnerHTML:{__html:a+(r?"<br/>":"")+r}}),u.createElement("td",{className:" px-2 w-4 text-center   whitespace-nowrap border border-gray-300   text-sm text-gray-500 "},n))})),u.createElement("td",{className:"px-2 py-4 whitespace-nowrap text-center border border-gray-300   font-medium text-sm text-gray-500"},t),u.createElement("td",{className:"px-2 py-4 whitespace-nowrap text-center text-sm border border-gray-300   font-medium"},u.createElement(ae,{value:a,onChange:e=>v(e,r)})))))))):u.createElement(X,{msg:m}))),E&&u.createElement(q,{msg:E}))))}function ne(){return u.createElement("div",{className:"p-4 flex flex items-center justify-center flex-col"},u.createElement("h2",{className:"my-4 text-2xl font-extrabold tracking-tight sm:text-1xl lg:text-1xl text-gray-600 pb-5 "},"Aucun jeu de données ne correspond à cette URL."))}function le(){return u.createElement("div",{className:"p-4 flex flex items-center justify-center flex-col"},u.createElement("h2",{className:"my-4 text-2xl font-extrabold tracking-tight sm:text-1xl lg:text-1xl text-gray-600 pb-5 "},"Aucun échantillon ne correspond à cette URL "))}function se(){const e=g(),[t,a]=u.useState(""),[r,n]=u.useState(""),[l,s]=u.useState(""),[c,o]=u.useState("");-1!==document.cookie.indexOf("sessionid")&&e.push("/");return""===l?u.createElement("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},u.createElement("div",{className:"sm:mx-auto sm:w-full sm:max-w-md"},u.createElement("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Veuillez vous connecter")),u.createElement("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},u.createElement("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},u.createElement("form",{className:"space-y-6",action:".",method:"POST",onSubmit:a=>{a.preventDefault(),s("Connexion en cours"),((e,t)=>H.get("api/v1/login/?csrf=1").then((a=>H.post("api/v1/login/",{username:e,password:t},{headers:{"X-CSRFTOKEN":a.data.csrftoken}}))))(c,t).then((t=>{e.push("/")})).catch((e=>{s(""),400===e.response.status?n("Email ou mot de passe incorrect"):n("Une erreur inconnue est survenue")}))}},u.createElement("div",null,u.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700"},"Adresse email"),u.createElement("div",{className:"mt-1"},u.createElement("input",{id:"email",name:"email",type:"text",onChange:e=>o(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}))),u.createElement("div",null,u.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700"},"Mot de passe"),u.createElement("div",{className:"mt-1"},u.createElement("input",{id:"password",name:"password",type:"password",onChange:e=>a(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}))),u.createElement("div",null,u.createElement("button",{className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Se connecter"))))),r&&u.createElement(q,{msg:r})):u.createElement(X,{msg:l})}function ce(){return u.createElement("div",{className:"h-screen flex overflow-hidden bg-gray-100"},u.createElement(S,null,u.createElement(k,{exact:!0,path:"/"},u.createElement(J,null),u.createElement("div",{className:"flex flex-col w-0 flex-1 overflow-hidden"},u.createElement(Z,null))),u.createElement(k,{exact:!0,path:"/datasources/:datasourceId/samples/:sampleId/"},u.createElement(J,null),u.createElement("div",{className:"flex flex-col w-0 flex-1 overflow-x-hidden overflow-y-scroll"},u.createElement(re,null))),u.createElement(k,{exact:!0,path:"/datasources/:datasourceId/"},u.createElement(J,null),u.createElement("div",{className:"flex flex-col w-0 flex-1 overflow-hidden"},u.createElement(te,null))),u.createElement(k,{path:"/nodatasource/"},u.createElement(J,null),u.createElement("div",{className:"flex flex-col w-0 flex-1 overflow-hidden"},u.createElement(ne,null))),u.createElement(k,{path:"/nosample/"},u.createElement(J,null),u.createElement("div",{className:"flex flex-col w-0 flex-1 overflow-hidden"},u.createElement(le,null))),u.createElement(k,{path:"/login/"},u.createElement("div",{className:"flex flex-col w-0 flex-1 overflow-hidden"},u.createElement(se,null)))))}var oe=C({reducer:{samples:U}});y.extend(D),y.extend(j),y.updateLocale("en",{relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minutes",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"}}),F.render(u.createElement(u.StrictMode,null,u.createElement(I,{store:oe},u.createElement(O,{basename:_},u.createElement(ce,null))),","),document.getElementById("root"));
